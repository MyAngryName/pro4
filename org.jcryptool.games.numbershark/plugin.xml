<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="org.jcryptool.games"
            class="org.jcryptool.games.numbershark.views.NumberSharkView"
            icon="platform:/plugin/org.eclipse.ui/icons/full/obj16/elements_obj.png"
            id="org.jcryptool.games.numbershark.NumberSharkView"
            name="%view.name.0">
      </view>
   </extension>
   <extension
         point="org.eclipse.help.toc">
      <toc
            file="$nl$/toc.xml"
            primary="false">
      </toc>
   </extension>
   <extension
         point="org.jcryptool.core.operations.games">
      <Game
            name="%Game.Name.0"
            viewId="org.jcryptool.games.numbershark.NumberSharkView"
            contextHelpId="org.jcryptool.games.numbershark.view"
            icon="platform:/plugin/org.eclipse.ui/icons/full/obj16/elements_obj.png">
      </Game>
   </extension>
   <extension point="org.eclipse.help.contexts">
      <contexts
            file="$nl$/contexts.xml">
      </contexts>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="toolbar:org.jcryptool.games.numbershark.NumberSharkView">
         <command
               commandId="org.jcryptool.games.numbershark.newGameCommand"
               icon="platform:/plugin/org.jcryptool.core.util/icons/icon_reset.png"
               style="push"
               tooltip="%command.tooltip.2">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator1"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.undoCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/undo_edit.png"
               style="push"
               tooltip="%command.tooltip.0">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.redoCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/redo_edit.png"
               style="push"
               tooltip="%command.tooltip.3">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator2"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.sharkMealCommand"
               icon="icons/shark-icon.png"
               style="push"
               tooltip="%command.tooltip">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.hintCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/help_search.png"
               style="push"
               tooltip="%command.tooltip.1">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator3"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.heuStrategyCommand"
               icon="icons/heuwizard-icon.png"
               style="push"
               tooltip="%heuStrategy.command.tooltip">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.optStrategyCommand"
               icon="icons/wizard-icon.png"
               style="push"
               tooltip="%optStrategy.command.tooltip">
         </command>
      </menuContribution>  
      <menuContribution
            locationURI="menu:org.jcryptool.games.numbershark.NumberSharkView">
         <command
               commandId="org.jcryptool.games.numbershark.newGameCommand"
               icon="platform:/plugin/org.jcryptool.core.util/icons/icon_reset.png"
               style="push">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator5"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.undoCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/undo_edit.png"
               style="push">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.redoCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/redo_edit.png"
               style="push">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator6"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.sharkMealCommand"
               icon="icons/shark-icon.png"
               style="push">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.hintCommand"
               icon="platform:/plugin/org.eclipse.ui/icons/full/etool16/help_search.png"
               style="push">
         </command>
         <separator
               name="org.jcryptool.games.numbershark.separator7"
               visible="true">
         </separator>
         <command
               commandId="org.jcryptool.games.numbershark.heuStrategyCommand"
               icon="icons/heuwizard-icon.png"
               style="push">
         </command>
         <command
               commandId="org.jcryptool.games.numbershark.optStrategyCommand"
               icon="icons/wizard-icon.png"
               style="push">
         </command>
      </menuContribution>   
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.jcryptool.games.numbershark.helpCommand"
            name="%help.command.name">
      </command>
      <command
            id="org.jcryptool.games.numbershark.optStrategyCommand"
            name="%optStrategy.command.name">
      </command>
      <command
            id="org.jcryptool.games.numbershark.undoCommand"
            name="%command.name">
      </command>
      <command
            id="org.jcryptool.games.numbershark.hintCommand"
            name="%command.name.0">
      </command>
      <command
            id="org.jcryptool.games.numbershark.sharkMealCommand"
            name="%command.name.1">
      </command>
      <command
            id="org.jcryptool.games.numbershark.newGameCommand"
            name="%command.name.2">
      </command>
      <command
            id="org.jcryptool.games.numbershark.redoCommand"
            name="%command.name.3">
      </command>
      <command
            id="org.jcryptool.games.numbershark.heuStrategyCommand"
            name="%heuStrategy.command.name">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.jcryptool.games.numbershark.handler.HelpHandler"
            commandId="org.jcryptool.games.numbershark.helpCommand">
      </handler>
            <handler
            class="org.jcryptool.games.numbershark.handler.OptimalStrategyHandler"
            commandId="org.jcryptool.games.numbershark.optStrategyCommand">
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.UndoHandler"
            commandId="org.jcryptool.games.numbershark.undoCommand">

            <enabledWhen>
      			<with
      			variable="org.jcryptool.games.numbershark.commands.undoState">
          			<equals
                    	value="UNDO_ENABLED">
                  	</equals>
      			</with>
      		</enabledWhen>
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.HintHandler"
            commandId="org.jcryptool.games.numbershark.hintCommand">
            <enabledWhen>
      			<with
      			variable="org.jcryptool.games.numbershark.commands.hintState">
          			<equals
                    	value="HINT_ENABLED">
                  	</equals>
      			</with>
      		</enabledWhen>
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.SharkMealHandler"
            commandId="org.jcryptool.games.numbershark.sharkMealCommand">
            <enabledWhen>
      			<with
      			variable="org.jcryptool.games.numbershark.commands.sharkMealState">
          			<equals
                    	value="SHARKMEAL_ENABLED">
                  	</equals>
      			</with>
      		</enabledWhen>
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.NewGameHandler"
            commandId="org.jcryptool.games.numbershark.newGameCommand">
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.RedoHandler"
            commandId="org.jcryptool.games.numbershark.redoCommand">
      		<enabledWhen>
      			<with
      			variable="org.jcryptool.games.numbershark.commands.redoState">
          			<equals
                    	value="REDO_ENABLED">
                  	</equals>
      			</with>
      		</enabledWhen>
      </handler>
      <handler
            class="org.jcryptool.games.numbershark.handler.HeuristicStrategyHandler"
            commandId="org.jcryptool.games.numbershark.heuStrategyCommand">
      </handler>

   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="org.jcryptool.games.numbershark.util.CommandState">
         <variable
               name="org.jcryptool.games.numbershark.commands.undoState"
               priorityLevel="workbench">
         </variable>
         <variable
               name="org.jcryptool.games.numbershark.commands.redoState"
               priorityLevel="workbench">
         </variable>
         <variable
               name="org.jcryptool.games.numbershark.commands.sharkMealState"
               priorityLevel="workbench">
         </variable>
         <variable
               name="org.jcryptool.games.numbershark.commands.hintState"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>

</plugin>
